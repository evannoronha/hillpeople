---
import PostCard from "../components/PostCard.astro";
import Layout from "../layouts/Layout.astro";
import { fetchPosts } from "../lib/api";
import { getMediaUrl, getLargestImage } from "../lib/imageUrl";

const posts = await fetchPosts();
---

<Layout pageTitle="Home">
	<section class="max-w-5xl mx-auto px-4 py-10">
		<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
			{
				posts.map((post: any) => {
					return (
						<PostCard post={post} />
					)
				})
			}
		</div>
	</section>
</Layout>
